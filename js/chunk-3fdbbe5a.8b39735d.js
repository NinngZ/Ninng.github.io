(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3fdbbe5a"],{"02a7":function(e,t,c){"use strict";c("e371")},"0325":function(e,t,c){},"170e":function(e,t,c){},"228b":function(e,t,c){},"39c1":function(e,t,c){"use strict";c("78e3")},"52d5":function(e,t,c){"use strict";c("228b")},"6d71":function(e,t,c){"use strict";var n=c("7a23"),a=Object(n["S"])("data-v-5e724079");Object(n["B"])("data-v-5e724079");var o={class:"goods"};Object(n["z"])();var r=a((function(e,t,c,a,r,i){var u=Object(n["G"])("GoodsListItem");return Object(n["y"])(),Object(n["f"])("div",o,[(Object(n["y"])(!0),Object(n["f"])(n["a"],null,Object(n["E"])(c.goods,(function(e){return Object(n["y"])(),Object(n["f"])(u,{product:e,key:e},null,8,["product"])})),128))])})),i=Object(n["S"])("data-v-23668603");Object(n["B"])("data-v-23668603");var u={alt:""},l={class:"goods-info"},b={class:"price"},s=Object(n["i"])("small",null,"￥",-1),d={class:"collect"};Object(n["z"])();var O=i((function(e,t,c,a,o,r){var i=Object(n["H"])("lazy");return Object(n["y"])(),Object(n["f"])("div",{class:"goods-item",onClick:t[1]||(t[1]=function(){return a.itemClick&&a.itemClick.apply(a,arguments)})},[Object(n["Q"])(Object(n["i"])("img",u,null,512),[[i,c.product.cover_url]]),Object(n["i"])("div",l,[Object(n["i"])("p",null,Object(n["J"])(c.product.title),1),Object(n["i"])("span",b,[s,Object(n["h"])(Object(n["J"])(c.product.price),1)]),Object(n["i"])("span",d,Object(n["J"])(c.product.collects_count),1)])])})),j=c("6c02"),f={name:"GoodsListItem",props:{product:{type:Object,default:function(){return{}}}},setup:function(e){var t=Object(j["d"])();return{itemClick:function(){t.push({path:"./detail",query:{id:e.product.id}})}}}};c("fcd5");f.render=O,f.__scopeId="data-v-23668603";var p=f,v={name:"GoodsList",props:{goods:{type:Array,default:function(){return[]}}},components:{GoodsListItem:p}};c("39c1");v.render=r,v.__scopeId="data-v-5e724079";t["a"]=v},"78e3":function(e,t,c){},b3d7:function(e,t,c){"use strict";c.r(t);var n=c("7a23"),a=Object(n["S"])("data-v-5c44a2ad");Object(n["B"])("data-v-5c44a2ad");var o={id:"home"},r=Object(n["h"])("图书商城"),i={class:"wrapper"},u={class:"content"},l={ref:"banref"};Object(n["z"])();var b=a((function(e,t,c,b,s,d){var O=Object(n["G"])("NavBar"),j=Object(n["G"])("TabControl"),f=Object(n["G"])("home-swiper"),p=Object(n["G"])("RecommendView"),v=Object(n["G"])("GoodsList"),m=Object(n["G"])("BackTop");return Object(n["y"])(),Object(n["f"])("div",o,[Object(n["i"])(O,null,{default:a((function(){return[r]})),_:1}),Object(n["Q"])(Object(n["i"])(j,{onTabClick:b.tabClick,titles:["畅销","新书","精选"]},null,8,["onTabClick"]),[[n["M"],b.isTabFixed]]),Object(n["i"])("div",i,[Object(n["i"])("div",u,[Object(n["i"])("div",l,[Object(n["i"])(f,{banners:b.banners},null,8,["banners"]),Object(n["i"])(p,{recommends:b.recommends},null,8,["recommends"])],512),Object(n["i"])(j,{onTabClick:b.tabClick,titles:["畅销","新书","精选"]},null,8,["onTabClick"]),Object(n["i"])(v,{goods:b.showGoods},null,8,["goods"])]),Object(n["Q"])(Object(n["i"])(m,{onBTop:b.bTop},null,8,["onBTop"]),[[n["M"],b.isShowBackTop]])])])})),s=c("2909"),d=c("a7ac"),O=(c("fb6a"),Object(n["S"])("data-v-3f511894"));Object(n["B"])("data-v-3f511894");var j={class:"recommend"},f={alt:""};Object(n["z"])();var p=O((function(e,t,c,a,o,r){var i=Object(n["H"])("lazy");return Object(n["y"])(),Object(n["f"])("div",j,[(Object(n["y"])(!0),Object(n["f"])(n["a"],null,Object(n["E"])(c.recommends.slice(0,4),(function(e){return Object(n["y"])(),Object(n["f"])("div",{class:"recommend-item",key:e.id},[Object(n["i"])("a",{href:"",onClick:Object(n["R"])((function(t){return a.goD(e.id)}),["prevent"])},[Object(n["Q"])(Object(n["i"])("img",f,null,512),[[i,e.cover_url]]),Object(n["i"])("div",null,Object(n["J"])(e.title),1)],8,["onClick"])])})),128))])})),v=c("6c02"),m={name:"RecommendView",props:{recommends:{type:Array,default:function(){return[]}}},setup:function(){var e=Object(v["d"])(),t=function(t){e.push({path:"./detail",query:{id:t}})};return{goD:t}},components:{}};c("f23c");m.render=p,m.__scopeId="data-v-3f511894";var y=m,g=Object(n["S"])("data-v-67d44324");Object(n["B"])("data-v-67d44324");var h={class:"tab-control"};Object(n["z"])();var k=g((function(e,t,c,a,o,r){return Object(n["y"])(),Object(n["f"])("div",h,[(Object(n["y"])(!0),Object(n["f"])(n["a"],null,Object(n["E"])(c.titles,(function(e,t){return Object(n["y"])(),Object(n["f"])("div",{key:t,onClick:function(e){return a.itemClick(t)},class:["tab-control-item",{active:a.currentIndex==t}]},[Object(n["i"])("span",null,Object(n["J"])(e),1)],10,["onClick"])})),128))])})),w=c("a1e9"),C={name:"TabControl",props:{titles:{type:Array,default:function(){return[]}}},setup:function(e,t){var c=t.emit,n=Object(w["k"])(0),a=function(e){n.value=e,c("tabClick",e)};return{currentIndex:n,itemClick:a}},components:{}};c("f30c");C.render=k,C.__scopeId="data-v-67d44324";var T=C,_=c("6d71"),G=c("725f"),B=Object(n["S"])("data-v-ad631656");Object(n["B"])("data-v-ad631656");var I={alt:""};Object(n["z"])();var S=B((function(e,t,c,a,o,r){var i=Object(n["G"])("van-swipe-item"),u=Object(n["G"])("van-swipe"),l=Object(n["H"])("lazy");return c.banners.length?(Object(n["y"])(),Object(n["f"])(u,{key:0,class:"my-swipe",autoplay:3e3,"indicator-color":"white"},{default:B((function(){return[(Object(n["y"])(!0),Object(n["f"])(n["a"],null,Object(n["E"])(c.banners,(function(e,t){return Object(n["y"])(),Object(n["f"])(i,{key:t},{default:B((function(){return[Object(n["Q"])(Object(n["i"])("img",I,null,512),[[l,e.img_url]])]})),_:2},1024)})),128))]})),_:1})):Object(n["g"])("",!0)})),z={name:"HomeSwiper",props:{banners:Array,default:function(){return[]}}};c("02a7");z.render=S,z.__scopeId="data-v-ad631656";var D=z,H=c("1bab");function J(){return Object(H["a"])({url:"/api/index",method:"get"})}function L(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"sales",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Object(H["a"])({url:"/api/index?"+e+"=1&page="+t,method:"get"})}var x=c("f40f"),q={name:"Home",setup:function(){var e=Object(n["D"])(!1),t=Object(n["D"])(!1),c=Object(n["D"])(null),a=Object(n["D"])([]),o=Object(n["C"])({sales:{page:1,list:[]},new:{page:1,list:[]},recommend:{page:1,list:[]}}),r=Object(n["D"])("sales"),i=Object(n["d"])((function(){return o[r.value].list})),u=Object(n["C"])({}),l=Object(n["D"])([]);Object(n["v"])((function(){J().then((function(e){a.value=e.goods.data,l.value=e.slides})),L("sales").then((function(e){o.sales.list=e.goods.data})),L("new").then((function(e){o.new.list=e.goods.data})),L("recommend").then((function(e){o.recommend.list=e.goods.data})),u=new x["a"](document.querySelector(".wrapper"),{prodeType:3,click:!0,pullUpLoad:!0}),u.on("scroll",(function(n){t.value=e.value=-n.y>c.value.offsetHeight})),u.on("pullingUp",(function(){var e=o[r.value].page+1;L(r.value,e).then((function(e){var t;(t=o[r.value].list).push.apply(t,Object(s["a"])(e.goods.data)),o[r.value].page+=1})),u.finishPullUp(),u.refresh(),console.log("当前类型："+r.value+"当前页数："+e)}))}));var b=function(e){var t=["sales","new","recommend"];r.value=t[e],Object(n["q"])((function(){u&&u.refresh()}))};Object(n["O"])((function(){Object(n["q"])((function(){u&&u.refresh()}))}));var d=function(){u.scrollTo(0,0,1e3)};return{recommends:a,tabClick:b,goods:o,showGoods:i,isTabFixed:e,banref:c,isShowBackTop:t,bTop:d,banners:l}},components:{NavBar:d["a"],RecommendView:y,TabControl:T,GoodsList:_["a"],BackTop:G["a"],HomeSwiper:D}};c("52d5");q.render=b,q.__scopeId="data-v-5c44a2ad";t["default"]=q},b579:function(e,t,c){},e371:function(e,t,c){},f23c:function(e,t,c){"use strict";c("0325")},f30c:function(e,t,c){"use strict";c("b579")},fcd5:function(e,t,c){"use strict";c("170e")}}]);
//# sourceMappingURL=chunk-3fdbbe5a.8b39735d.js.map