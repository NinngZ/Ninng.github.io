(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fd17c406"],{2241:function(t,e,c){"use strict";var n=c("75e6");e["a"]=n["a"]},"5a4f":function(t,e,c){"use strict";c.r(e);var n=c("7a23"),a=Object(n["S"])("data-v-449474dc");Object(n["B"])("data-v-449474dc");var i={class:"order-detail-box"},r=Object(n["h"])("订单详情"),l={class:"order-status"},o={class:"status-item"},u=Object(n["i"])("label",null,"订单状态:",-1),b={class:"status-item"},d=Object(n["i"])("label",null,"订单编号：",-1),s={class:"status-item"},O=Object(n["i"])("label",null,"下单时间：",-1),j=Object(n["h"])("去支付"),f=Object(n["h"])("确认订单"),h={class:"order-price"},v={class:"price-item"},p=Object(n["i"])("label",null,"商品金额:",-1),y=Object(n["i"])("div",{class:"price-item"},[Object(n["i"])("label",null,"配送方式:"),Object(n["i"])("span",null,"普通快递")],-1),m=Object(n["i"])("div",{style:{width:"100%",height:"50px"}},null,-1),w={style:{width:"90%",margin:"0 auto",padding:"50px 0"}},g=Object(n["h"])(" 支付宝二维码 "),_=Object(n["i"])("br",null,null,-1),k=Object(n["h"])(" 微信支付二维码 "),C=Object(n["i"])("br",null,null,-1);Object(n["z"])();var N=a((function(t,e,c,N,G,P){var x=Object(n["G"])("NavBar"),J=Object(n["G"])("van-button"),q=Object(n["G"])("van-card"),D=Object(n["G"])("van-image"),I=Object(n["G"])("van-grid-item"),B=Object(n["G"])("van-grid"),F=Object(n["G"])("van-popup");return Object(n["y"])(),Object(n["f"])("div",i,[Object(n["i"])(x,{class:"nav-bar"},{default:a((function(){return[r]})),_:1}),Object(n["i"])("div",l,[Object(n["i"])("div",o,[u,Object(n["i"])("span",null,Object(n["J"])(N.statusString),1)]),Object(n["i"])("div",b,[d,Object(n["i"])("span",null,Object(n["J"])(t.detail.order_no),1)]),Object(n["i"])("div",s,[O,Object(n["i"])("span",null,Object(n["J"])(t.detail.created_at),1)]),1==t.detail.status?(Object(n["y"])(),Object(n["f"])(J,{key:0,onClick:N.showPayFn,style:{"margin-bottom":"10px"},color:"#1baeae",block:""},{default:a((function(){return[j]})),_:1},8,["onClick"])):Object(n["g"])("",!0),2==t.detail.status?(Object(n["y"])(),Object(n["f"])(J,{key:1,onClick:N.handleConfirmOrder,block:""},{default:a((function(){return[f]})),_:1},8,["onClick"])):Object(n["g"])("",!0)]),Object(n["i"])("div",h,[Object(n["i"])("div",v,[p,Object(n["i"])("span",null,"￥"+Object(n["J"])(N.total),1)]),y]),(Object(n["y"])(!0),Object(n["f"])(n["a"],null,Object(n["E"])(t.detail.orderDetails.data,(function(t){return Object(n["y"])(),Object(n["f"])(q,{key:t.id,num:t.num,price:t.price,desc:"全场包邮",title:t.goods.title,thumb:t.goods.cover_url},null,8,["num","price","title","thumb"])})),128)),m,Object(n["i"])(F,{show:t.showPay,"onUpdate:show":e[1]||(e[1]=function(e){return t.showPay=e}),position:"bottom",style:{height:"40%"}},{default:a((function(){return[Object(n["i"])("div",w,[Object(n["i"])(B,{border:!1,"column-num":2},{default:a((function(){return[Object(n["i"])(I,{text:"支付宝"},{default:a((function(){return[g,_,Object(n["i"])(D,{width:"150",height:"150",src:t.aliyun},null,8,["src"])]})),_:1}),Object(n["i"])(I,{text:"微信支付"},{default:a((function(){return[k,C,Object(n["i"])(D,{width:"150",height:"150",src:t.wechat},null,8,["src"])]})),_:1})]})),_:1})])]})),_:1},8,["show"])])})),G=c("5530"),P=(c("68ef"),c("d4ef"),c("cb51"),c("3743"),c("e3b3"),c("bc1b"),c("1703"),c("a71a"),c("4d75"),c("2fcb"),c("2241")),x=(c("e7e5"),c("d399")),J=(c("159b"),c("a7ac")),q=c("6c02"),D=c("e05b"),I={name:"OrderDetail",setup:function(){var t=Object(q["c"])(),e=Object(q["d"])(),c=Object(n["C"])({orderNo:"",detail:{orderDetails:{data:[]}},showPay:!1,aliyun:"",wechat:""}),a=function(){var e=t.query.id;c.orderNo=e,Object(D["c"])(e).then((function(t){c.detail=t}))};Object(n["v"])((function(){x["a"].loading({message:"加载中...",forbidClick:!0}),a(),x["a"].clear()}));var i=Object(n["d"])((function(){var t=["","已下单","已支付","等待发货","确认收货","已过期"];return t[c.detail.status]})),r=Object(n["d"])((function(){var t=0;return c.detail.orderDetails.data.forEach((function(e){t+=parseInt(e.num)*parseFloat(e.price)})),t})),l=function(){c.showPay=!0,Object(D["f"])(c.orderNo,{type:"aliyun"}).then((function(t){c.aliyun=t.qr_code_url,c.wechat=t.qr_code_url}));var t=setInterval((function(){Object(D["g"])(c.orderNo).then((function(n){"2"==n&&(c.showPay=!1,clearInterval(t),e.push({path:"/orderdetail",query:{id:c.orderNo}}))}))}),2e3)},o=function(){P["a"].confirm({title:"是否确认订单"}).then((function(){Object(D["a"])(c.orderNo).then((function(t){Object(x["a"])("确认成功"),a()}))}))},u=function(){P["a"].close()};return Object(G["a"])(Object(G["a"])({},Object(n["K"])(c)),{},{statusString:i,total:r,showPayFn:l,handleConfirmOrder:o,close:u})},components:{NavBar:J["a"]}};c("811a");I.render=N,I.__scopeId="data-v-449474dc";e["default"]=I},"811a":function(t,e,c){"use strict";c("95d3")},"95d3":function(t,e,c){}}]);
//# sourceMappingURL=chunk-fd17c406.5876f80d.js.map